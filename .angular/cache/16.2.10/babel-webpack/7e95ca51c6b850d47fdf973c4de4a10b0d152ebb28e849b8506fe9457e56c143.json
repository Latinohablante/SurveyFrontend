{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet LoginComponent = class LoginComponent {\n  constructor(formBuilder, router, loginService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.loginService = loginService;\n    this.loginError = \"\";\n    this.loginForm = this.formBuilder.group({\n      username: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n  ngOnInit() {}\n  get email() {\n    return this.loginForm.controls.username;\n  }\n  get password() {\n    return this.loginForm.controls.password;\n  }\n  login() {\n    if (this.loginForm.valid) {\n      this.loginError = \"\";\n      this.loginService.login(this.loginForm.value).subscribe({\n        next: userData => {\n          console.log(userData);\n        },\n        error: errorData => {\n          console.error(errorData);\n          this.loginError = errorData;\n        },\n        complete: () => {\n          console.info(\"Login completo\");\n          this.router.navigateByUrl('/inicio');\n          this.loginForm.reset();\n        }\n      });\n    } else {\n      this.loginForm.markAllAsTouched();\n      alert(\"Error al ingresar los datos.\");\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","Validators","LoginComponent","constructor","formBuilder","router","loginService","loginError","loginForm","group","username","required","email","password","ngOnInit","controls","login","valid","value","subscribe","next","userData","console","log","error","errorData","complete","info","navigateByUrl","reset","markAllAsTouched","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/camper/Documentos/SurveyFrontend/src/app/auth/login/login.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoginService } from 'src/app/services/auth/login.service';\nimport { LoginRequest } from 'src/app/services/auth/loginRequest';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  loginError:string=\"\";\n  loginForm=this.formBuilder.group({\n    username:['',[Validators.required,Validators.email]],\n    password: ['',Validators.required],\n  })\n  constructor(private formBuilder:FormBuilder, private router:Router, private loginService: LoginService) { }\n\n  ngOnInit(): void {\n  }\n\n  get email(){\n    return this.loginForm.controls.username;\n  }\n\n  get password()\n  {\n    return this.loginForm.controls.password;\n  }\n\n  login(){\n    if(this.loginForm.valid){\n      this.loginError=\"\";\n      this.loginService.login(this.loginForm.value as LoginRequest).subscribe({\n        next: (userData) => {\n          console.log(userData);\n        },\n        error: (errorData) => {\n          console.error(errorData);\n          this.loginError=errorData;\n        },\n        complete: () => {\n          console.info(\"Login completo\");\n          this.router.navigateByUrl('/inicio');\n          this.loginForm.reset();\n        }\n      })\n\n    }\n    else{\n      this.loginForm.markAllAsTouched();\n      alert(\"Error al ingresar los datos.\");\n    }\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAsBC,UAAU,QAAO,gBAAgB;AAUhD,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAMzBC,YAAoBC,WAAuB,EAAUC,MAAa,EAAUC,YAA0B;IAAlF,KAAAF,WAAW,GAAXA,WAAW;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAAiB,KAAAC,YAAY,GAAZA,YAAY;IALxF,KAAAC,UAAU,GAAQ,EAAE;IACpB,KAAAC,SAAS,GAAC,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MAC/BC,QAAQ,EAAC,CAAC,EAAE,EAAC,CAACT,UAAU,CAACU,QAAQ,EAACV,UAAU,CAACW,KAAK,CAAC,CAAC;MACpDC,QAAQ,EAAE,CAAC,EAAE,EAACZ,UAAU,CAACU,QAAQ;KAClC,CAAC;EACwG;EAE1GG,QAAQA,CAAA,GACR;EAEA,IAAIF,KAAKA,CAAA;IACP,OAAO,IAAI,CAACJ,SAAS,CAACO,QAAQ,CAACL,QAAQ;EACzC;EAEA,IAAIG,QAAQA,CAAA;IAEV,OAAO,IAAI,CAACL,SAAS,CAACO,QAAQ,CAACF,QAAQ;EACzC;EAEAG,KAAKA,CAAA;IACH,IAAG,IAAI,CAACR,SAAS,CAACS,KAAK,EAAC;MACtB,IAAI,CAACV,UAAU,GAAC,EAAE;MAClB,IAAI,CAACD,YAAY,CAACU,KAAK,CAAC,IAAI,CAACR,SAAS,CAACU,KAAqB,CAAC,CAACC,SAAS,CAAC;QACtEC,IAAI,EAAGC,QAAQ,IAAI;UACjBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACvB,CAAC;QACDG,KAAK,EAAGC,SAAS,IAAI;UACnBH,OAAO,CAACE,KAAK,CAACC,SAAS,CAAC;UACxB,IAAI,CAAClB,UAAU,GAACkB,SAAS;QAC3B,CAAC;QACDC,QAAQ,EAAEA,CAAA,KAAK;UACbJ,OAAO,CAACK,IAAI,CAAC,gBAAgB,CAAC;UAC9B,IAAI,CAACtB,MAAM,CAACuB,aAAa,CAAC,SAAS,CAAC;UACpC,IAAI,CAACpB,SAAS,CAACqB,KAAK,EAAE;QACxB;OACD,CAAC;KAEH,MACG;MACF,IAAI,CAACrB,SAAS,CAACsB,gBAAgB,EAAE;MACjCC,KAAK,CAAC,8BAA8B,CAAC;;EAEzC;CAED;AA7CY7B,cAAc,GAAA8B,UAAA,EAL1BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWjC,cAAc,CA6C1B;SA7CYA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}